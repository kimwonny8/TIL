### 수퍼 키

- 한 릴레이션 내의 특정 투플을 고유하게 식별하는 하나의 애트리뷰트 또는 애트리뷰트들의 집합
- 신용카드 회사의 고객 릴레이션에서 (신용카드번호, 주소) 또는 (주민등 록번호, 이름) 또는 (주민등록번호) 
- 투플들을 고유하게 식별하는데 꼭 필요하지 않은 애트리뷰트들을 포함할 수 있음

### 후보 키

- 각 투플을 고유하게 식별하는 최소한의 애트리뷰트들의 모임
- 후보 키도 두 개 이상의 애트리뷰트로 이루어질 수 있으며 이런 경우에 복합 키(composite key)라고 부름

### 대체 키

- 기본 키가 아닌 후보 키

### 외래 키

- 어떤 릴레이션의 기본 키를 참조하는 애트리뷰트

****

### 도메인 제약조건

- 애트리뷰트 값이 반드시 원자값
- 디폴트 값, 범위 지정 가능
- 데이터 형식을 통해 값들의 유형을 제한

### 키 제약조건

- 중복된 값 존재하면 안됨

### 엔티티 무결성 제약조건

- 릴레이션의 기본 키를 구성하는 어떤 애트리뷰트도 널값을 가질 수 없음

### 참조 무결성 제약조건

- 외래 키의 값은 R1의 어떤 투플의 기본 키 값과 같다 
- 외래 키가 자신을 포함하고 있는 릴레이션의 기본 키를 구성하고 있지 않으면 널값을 가진다

***



## 데이터베이스 설계



### 데이터베이스 설계

- 개념적 데이터베이스 설계 / 물리적 데이터 베이스 설계

- 개념적 데이터베이스 설계
  - 정보 사용의 모델을 개발하는 과정
  - 추상화 모델 구축
- 물리적 데이터베이스 설계
  - 물리적인 저장 장치와 접근 방식
- 관계 : 두 개 이상의 엔티티들 간의 연관을 나타냄
- 프로세스 : 관련된 활동을 나타냄 
- 무결성 제약조건 : 데이터의 정확성과 비즈니스 규칙



### 개념적 수준의 모델

- 데이터베이스 구조나 스키마를 하향식으로 개발할 수 있는 틀 제공
- 엔티티 관계(ER모델)
- 구현 데이터 모델 존재
- 관계 / 계층 / 네트워크 데이터 모델



### 요구사항 수집과 분석

- 기존의 문서 조사, 인터뷰ㅡ 설문 조사
- 관련 있는 엔티티들과 애트리뷰트 무엇? 관계 파악
- 연산, 데이터양 분석



### 개념적 설계

- 한 조직ㅊ체에서 사용되는 정보의 모델 구축
- 사용자들의 요구사항 명세로 개념적 스키마
- 높은 추상화 수준의 데이터 모델을 기반으로
- ERD
- 애트리뷰트 도메인, 후보키 기본키 등



### DBMS 선정

- 저장구조, 인터페이스, 질의어 등
- 고수준 전략적인 결정
- DBMS 구입 비용, 하드웨어 구입 비용, 유지보수 비용, 교육비 등



### 논리적 설계

- 논리적 스키마(외부 스키마 포함) 생성
- 개념적 스키마 + 알고리즘 = 논리적 스키마 생성
- ERD 를 관계 데이터베이스 스키마로 사상(정규화)



### 물리적 설계

- 저장구조와 접근 경로 결정
- 성능상 주요기준 
  - 응답 시간: 평균 혹은 피크시간에 얼마나 오래?
  - 트랙잭션 처리율: 1초당 트랜잭션 처리되는 양
  - 전체 데이터베이스 보고서 생성하는 데 얼마나 오래걸림?



### 트랜잭션 설계

- 요구사항 수집 분석 후에 설계와 별도로 트랜잭션 설계 진행가능
- 모든 정보 포함
- 검색, 갱신, 혼합으로 구분 - 입출력, 동작 식별



***



## ER 모델

- P.P. Chen 이 1976년 제안
- EER 모델이 가장 널리 사용
- 사람들이 응용에 대해 생각하는 방식과 가까움
- **엔티티, 애트리뷰트, 엔티티들 간의 관계**로 표현
- 쉽계 관계 데이터 모델로 사상
- 다수의 CASE 도구(ERWin 등) 존재



## 엔티티(직사각형)

- 독립적으로 존재하면서 고유하게 식별 가능한 객체
- 실체 혹은 개념과 같이 추상적인 것도 가능

- 엔티티 타입(엔티티 집합)들로 분류 - 엄격하게 구분할 필요 X
- 엔티티 **타입**
  - 동일한 애트리뷰트들을 가진 엔티티들의 **틀**
  - 릴레이션의 **내포**
- 엔티티 **집합**
  - 동일한 애트리뷰트들을 가진 엔티티들의 **모임**
  - 릴레이션의 **외연**
- 하나의 엔티티는 한 개 이상의 엔티티 집합에 속할 수 있음



### 강한 엔티티 타입

- 독자적 존재
- 자신의 키 애트리뷰트 사용하여 고유하게 엔티티 식별 가능

### 약한 엔티티 타입(이중선 직사각형)

- 키를 형성하기에 충분한 애트리뷰트 갖지 못함
- 소유 엔티티 타입이 존재해야 - 결합해야만 식별 가능
- **부분 키(partial key)(점선 밑줄)**
  - 부양가족의 이름처럼 한 사원에 속한 부양가족 내에 서는 서로 다르지만 회사 전체 사원들의 부양가족들 전체에서는 같은 경우 가 생길 수 있는 애트리뷰트
  - 소유 엔티티가 있으면 식별가능한 키



## 애트리뷰트(타원형)

- 하나의 엔티티는 연관된 애트리뷰트의 집합
- 한 애트리뷰트의 도메인은 그 애트리뷰트가 가질 수 있는 모든 가능한 값들의 집합
- 여러 애트리뷰트가 동일한 도메인 공유
- 명사나 형용사
- 독립적인 의미는 갖지 않는다
- 기본 키(밑줄)
- 애트리뷰트와 엔티티타입(실선 연결)



## 단순 / 복합

### 단순 애트리뷰트(simple attribute)

- 더 이상 다른 애트리뷰트로 나눌 수 없는 애트리뷰트

### 복합 애트리뷰트(composite attribute)

- 두 개 이상의 애트리뷰트로 이루어진 애트리뷰트
- 예) 주소안에 시, 구, 동



## 단일 / 다치(이중선 타원)

### 단일 값 애트리뷰트(single-valued attribute) 

- 각 엔티티마다 정확하게 하나의 값을 갖는 애트리뷰트
- 예) 사원번호
- 대부분 단일 값 애트리뷰트

### 다치 애트리뷰트(multi-valued attribute)(이중선 타원)

- 각 엔티티마다 여러 개의 값을 가질 수 있는 애트리뷰트
- 예) 취미



## 저장 / 유도(점선 타원)

### 저장된 애트리뷰트(stored attribute)

- 다른 애트리뷰트와 독립적으로 존재하는 애트리뷰트
- 일반 애트리뷰트는 전부 저장된 애트리뷰트
- 예) 사원 에티티 타입에서 사원이름

### 유도된 애트리뷰트(derived attribute)(점선 타원)

- 다른 애트리뷰트의 값으로부터 얻어진 애트리뷰트 
- 예) 나이 - 생년월일에서 유도된 애트리뷰트
- 유도된 애트리뷰트는 릴레이션에 없는 것이 좋음



## 관계(마름모)

- 두개 이상의 엔티티 관계 표시

- 동사

- 관계 타입은 키 애트리뷰트를 갖지 않는다.

- 특징을 기술하는 애트리뷰트는 가질 수 있음

  

- 강한엔티티와 약한엔티티를 연결하는 관계일 땐 

  ### 이중선 마름모



### 전체참여(이중실선)와 부분참여

- 전체 참여
  - 어떤 관계에 엔티티 타입 E1의 모든 엔티티들이 관계 타입 R 에 의해서 어떤 엔티티 타입 E2의 어떤 엔티티와 연관되는 것
  - ex) 부서는 관리를 받고, 직원은 관리를 하므로   EMPLOYEE - MANAGES = DEPARTMENT 
- 부분 참여
  - 어떤 관계에 엔티티 타입 E1의 일부 엔티티만 참여하는 것을 의미
- 약한 엔티티 타입은 항상 전체 참여



### 다중 관계

- 두 엔티티 타입 사이에 두 개 이상의 관계 타입이 존재할 수 있음

### 순환적 관계

- 하나의 엔티티 타입이 동일한 관계 타입에 두 번 이상 참여



### 차수

- 관계로 연결된 엔티티 타입들의 개수

### 카디날리티

- 한 엔티티가 참여할 수 있는 관계의 수
- 1:1
  - 한 개의 PC, 한 명의 사원
- 1:N
  - 한 개의 PC, 여러 명의 사원
  - 가장 흔히 나타나는 관계
- M:N
  - 여러 대의 PC, 여러 명의 사원
- min : 이 엔티티 타입 내의 각 엔티티는 적어도 min 번 관계에 참여함을 의미 
- max : 이 엔티티 타입 내의 각 엔티티는 최대한 max 번 관계에 참여함을 의미



### 역할(role)

- 관계 타입의 의미를 명확하게 하기 위해 사용
- 하나의 관계 타입에 하나의 엔티티 타입이 여러 번 나타나는 경우에는 반드시 역할을 표기해야 함
