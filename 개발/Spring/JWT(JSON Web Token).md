## 인증 방식 종류

1. Cookie

2. Session

3. Token



### Cookie 인증

- Key - Value 형식의 문자열
- 각 사용자마다의 브라우저에 정보 저장
- 보안에 취약
- 용량 제한
- 공유 불가능

### Session 인증

-  Key에 해당하는 SESSION ID와 이에 대응하는 Value 로 구성
- 서버 측에 저장하고 관리 (서버의 메모리 혹은 서버의 로컬 파일이나 데이터베이스)
- 세션 ID는 유의미한 개인정보 없으나, ID 자체를 탈취하여 해킹할 수 있음
- 서버가 파일이나 데이터베이스에 세션정보 ⇒ 조회하는 과정에서 많은 오버헤드

### Token 인증

- 서버에 접속하면 서버에서 해당 클라이언트에게 인증되었다는 의미로 **토큰** 부여 ⇒ 유일함
- 앱과 서버가 통신 및 인증할 때 가장 많이 사용
- 토큰 자체에 데이터 ⇒ 데이터 길이가 길다 ⇒ 인증 요청 많아질수록 네트워크 부하
- 토큰 탈취 당하면 대처가 어려움

***

# JWT (JSON Web Toekn)



- 인증에 필요한 정보들을 암호화시킨 JSON 토큰
- JWT 토큰(Access Token)을 HTTP 헤더에 실어 서버가 클라이언트를 식별하는 방식
- JSON 데이터를 **Base64 URL-safe Encode** 를 통해 인코딩하여 직렬화
- 개인키를 통한 전자서명도 있음



## JWT 구조

- '.'을 구분자로 나누어지는 세가지 문자열 조합

1. Header(헤더)

   - alg : 서명 암호화 알고리즘(ex: HMAC SHA256, RSA)
   - typ : 토큰 유형

2. Payload(내용)

   - 실제로 사용될 정보에 대한 내용

   - 토큰에서 사용할 정보의 조각들인 Claim

     - Claim? key-value 형식으로 이루어진 한 쌍의 정보

     

     - Registered claims : 미리 정의된 클레임
     - Public claims :  사용자가 정의할 수 있는 클레임 (공개용 정보 전달 목적)
     - Private claim : 해당하는 당사자들 간에 정보를 공유하기 위해 만들어진 사용자 지정 클레임

3. Signature(서명)

   - Header 와 Payload 로 Signature 생성

     **⇒ 데이터 위변조를 막을 수 있음!**



## JWT 인증 과정

| 사용자 |                                                              | 서버 |
| :----: | :----------------------------------------------------------: | :--: |
|        |               → ID, PW 입력, 로그인 인증 요청                |      |
|        | Header, PayLoad, Signature를 정의 후<br />JWT(쿠키에 담아) 발급,<br />액세스 토큰, 리프레시 토큰 발급 ← |      |
|        |               → 액세스 토큰 사용하여 API 요청                |      |
|        | 액세스 토큰 문제 없으면 정보 응답 ←<br />문제 있으면 통과X ← |      |
|        |                                                              |      |
|        | **액세스 토큰 시간 만료 시**<br />→ 리프레시 토큰으로 액세스 토큰 재발급 |      |
|        |                     액세스 토큰 재발급 ←                     |      |



### ⭐ JWT는 서명(인증) 목적!



[참고블로그](https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC#thankYou)









